<!DOCTYPE html>
<!-- saved from url=(0029)https://www.snucse.org/420411 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>스누씨</title>
    <link href="./2016_files/css" rel="stylesheet">
    <link href="./2016_files/nanumgothic.css" rel="stylesheet">
    <link rel="stylesheet" href="./2016_files/application.css">
  </head>
  <body>
    <div id="content"><div data-reactroot=""><div><header id="header"><div id="header-container"><div id="logo-container"><a id="logo" href="https://www.snucse.org/">SNUCSE</a></div><a id="top-menu-github-link" href="https://github.com/snucse/snucse" target="_blank" rel="noopener noreferrer">GitHub</a><a id="logout-link" href="https://www.snucse.org/420411#">로그아웃</a><a id="top-menu-activity-button" href="https://www.snucse.org/activities">활동</a><a id="search-link" href="https://www.snucse.org/search">검색</a></div></header><div id="main-container"><aside id="sidemenu-container"><section id="user-box"><img id="user-image" src="./2016_files/default.png"><h5 id="user-name"><a href="https://www.snucse.org/hscornelia"><!-- react-text: 89 -->김현수<!-- /react-text --><!-- react-text: 90 --> (<!-- /react-text --><!-- react-text: 91 -->hscornelia<!-- /react-text --><!-- react-text: 92 -->)<!-- /react-text --></a><!-- react-text: 14 --> <!-- /react-text --><a id="settings-link" href="https://www.snucse.org/settings">수정</a></h5></section><section id="following-profiles-box"><h5 id="following-profiles-title"><!-- react-text: 94 -->팔로우 중인 프로필<!-- /react-text --><a id="all-profiles-link" href="https://www.snucse.org/profiles">전체 프로필 보기</a></h5><ul id="following-profiles-list"><li><a href="https://www.snucse.org/snucom">돌소리</a></li><li><a href="https://www.snucse.org/notice">알립니다</a></li><li><a href="https://www.snucse.org/job">구인구직란</a></li><li><a href="https://www.snucse.org/_18">18학번 모임</a></li><li><a href="https://www.snucse.org/report">버그 제보 및 기능 제안</a></li><li><a href="https://www.snucse.org/hscornelia">김현수</a></li><li><a href="https://www.snucse.org/toorpds">족보</a></li></ul></section><section id="tag-cloud-box"><h5 id="tag-cloud-title">태그클라우드</h5><ul><li class="tag-cloud-tag-item"><a href="https://www.snucse.org/tags?tag=%EB%8B%AC%EB%A0%A5%EA%B2%8C%EC%8B%9C%ED%8C%90">달력게시판</a></li><li class="tag-cloud-tag-item"><a href="https://www.snucse.org/tags?tag=%ED%97%88%E2%98%86%EC%9D%BC%EC%A0%95%E2%98%86%EC%8A%B9">허☆일정☆승</a></li><li class="tag-cloud-tag-item"><a href="https://www.snucse.org/tags?tag=%EB%8D%95%EC%A7%88%ED%94%8C%EB%9E%9C">덕질플랜</a></li><li class="tag-cloud-tag-item"><a href="https://www.snucse.org/tags?tag=%EC%BB%B4%ED%93%A8%ED%84%B0%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D">컴퓨터프로그래밍</a></li><li class="tag-cloud-tag-item"><a href="https://www.snucse.org/tags?tag=%EA%B7%B8%EB%9E%98%ED%94%BD%EC%8A%A4">그래픽스</a></li><li class="tag-cloud-tag-item"><a href="https://www.snucse.org/tags?tag=%EB%A9%80%ED%8B%B0%EC%BD%94%EC%96%B4%20%EC%BB%B4%ED%93%A8%ED%8C%85">멀티코어 컴퓨팅</a></li></ul></section><section id="sidemenu-footer"><a href="https://id.snucse.org/Privacy.aspx" target="_blank" rel="noopener noreferrer">개인정보 처리방침</a></section></aside><div id="main"><section class="article-view"><div class="feed-article"><small class="article-date" title="2016년 11월 8일 오전 2시 28분"><div class="time">5년 전</div></small><h5 class="article-title"><!-- react-text: 33 -->[2016-2] 시스템프로그래밍(에거 교수님) 중간고사<!-- /react-text --><a class="article-profiles" href="https://www.snucse.org/toorpds">족보</a></h5><div class="article-main"><div class="article-writer-container"><img class="article-writer-image" src="./2016_files/default.png"><h5 class="article-writer-name"><a href="https://www.snucse.org/moduhary">정모두하리</a></h5></div><div class="article-divider"></div><div class="article-content-container"><!-- react-empty: 42 --><div></div><div class="article-content"><div id="0df30d40-3e97-47c4-9f8a-251224193afb">실제 문제를 보면 전부 영어로 되어 있지만, 그 표현이 기억이 나질 않아서 한글로 작성합니다. 그리고 기억이 잘 안나는 부분이 꽤 있어서, 틀렸거나 추가해야 할 부분 지적해주시는 거 환영합니다.<br><br>

필기 (90 min, 90점 만점, 답은 영어도 쓸 수 있고 한글도 쓸 수 있음)<br><br>

1. 객관식 16문제 (개당0.5점, 총 8점)<br><br>

[2015-2] 기출과 거의 같음(cheating sheet만 잘 써가도 대부분은 맞을 수 있을 것이다.)<br><br> 

2. Linking and Loading(18점)<br><br>

a) ELF에 포함되는 파일 형식 3가지를 쓰시오.(4점)<br><br>

  - Executable Object File(따로 형식 지정자 없음), Relocatable Object File(.o), Shared Object File(.so)<br><br>

b) ELF의 fullname과 의미를 쓰시오.(6점)<br><br>

  - Executable and Linkable Format 의 약자, Standard binary format for object files<br><br>

c) ELF format을 구성하고 있는 section 중 5가지를 쓰고 각 section에 무엇이 있는지도 쓰시오.(8점)<br><br>

  - Elf header<br>
  Word size, byte ordering, file type (.o, exec, .so), machine type, etc.<br><br>

  - Segment header table<br>
  Page size, virtual addresses memory segments(sections), segment sizes.<br><br>

  - .text section<br>
  Code<br><br>

  - .rodata section<br>
  Read only data: jump tables, ...<br><br>

  - .data section<br>
  Initialized global variables<br><br>

  - .bss section<br>
  Uninitialized global variables<br>
  “Block Started by Symbol”<br>
  “Better Save Space”<br>
  Has section header but occupies no space<br><br>

  - .symtabsection<br>
  Symbol table<br>
  Procedure and static variable names<br>
  Section names and locations<br><br>

  - .rel.text section<br>
  Relocation info for .text section<br>
  Addresses of instructions that will need to be modified in the executable<br>
  Instructions for modifying.<br><br>

  - .rel.data section<br>
  Relocation info for .data section<br>
  Addresses of pointer data that will need to be modified in the merged executable<br><br>

  - .debug section<br>
  Info for symbolic debugging (gcc-g)<br><br>

  - Section header table<br>
  Offsets and sizes of each section<br><br>

  이 중에서 5가지 골라 쓰면 됐음.<br><br>

3. Exceptional Control Flow - Signal Handling(6점)<br><br>
<pre class="brush: cpp;">pid_t pid;

void f(void)
{
	printf("{A}\n");
}

void g(void)
{
	printf("{B}\n");
}

void h(int sig)
{
	printf("{C}\n");
	kill(pid, SIGUSR1);
}

void i(int sig)
{
	printf("{D}\n");
	exit (0);
}

void main() {
	signal(SIGUSR1, h);
	atexit(g);
	
	printf("{E}\n");
	
	if ((pid = fork()) == 0) {
		signal(SIGUSR1, i);
		kill(getppid(), SIGUSR1);
		while (1) {};
	} else {
		atexit(f);
		waitpid(pid, NULL, 0);
	}
	printf("{F}\n");
}


</pre>
<br>

위 소스코드의 실행결과를 쓰시오.(사실상 2015-2 기출에서 1,2,3,4,5,6 -&gt; A,B,C,D,E,F로 바꾼거)<br><br>

  - ECDAFBA(모르겠으면 직접 실행해보자.)<br><br>

4. Symbol Resoulution &amp; Relocation(20점)<br><br>

보기로 foo.c와 bar.c라는 소스코드가 주어져 있으며, symbol이 여러개 정의되어 있었다.
(foo, bar, foobar 등, 이름이 헷갈려서 기억이 제대로 안남)<br><br>

a) Symbol table 표 채우기(8점)<br><br>
 
채워야 할 정보는 symbol 이름, symbol type, weak/strong, section, Remarks(symbol 에 대하여 추가적으로 쓰고 싶은 것을 쓰라 하셨다.)<br><br>

b) Symbol Resolution이 일어난 정보의 표 채우기(8점)<br><br>

총 8개의 Symbol Resolution이 있었던거 같다.<br><br>

채워야 할 정보는 Symbol Resolution이 일어난 코드상 위치, Symbol Resolution으로 인해 바뀐 Symbol Reference의 위치, 그로 인해 바뀐 변수의 type(?)이었나<br><br>

c) 표가 하나 주어졌다. 위 소스코드의 ELF중 일부를 보여주고 Symbol Resolution이 일어난 곳에 Instruction에서 그 symbol의 주소와 관련된 부분에 빈칸을 뚫고 거기 들어갈 내용을 맞추는 거였다.(4점)<br><br>

  - 총 2개가 주어졌는데, 하나는 Absolute address를 사용했고, 다른 하나는 PC-relative address를 사용함.(하나는 직접 주소값 쓰면 되고, 나머지 하나는 PC register와 offset으로 표현하면 된듯)<br><br>

5. Linking and Loading(8점)<br><br>

one.c two.c three.c four.c라는 소스 코드가 주어짐<br><br>

one.c<br>
<pre class="brush: cpp;">int a[1000000]={0};

int main()
{
    a[0] = 1;
}

</pre>
<br>

two.c<br>
<pre class="brush: cpp;">int a[1000000];

int main()
{
    a[0] = 2;
}
</pre>
<br>

three.c<br>
<pre class="brush: cpp;">int main()
{
    int a[1000000]={1};
}
</pre>
<br>

four.c<br>
<pre class="brush: cpp;">int main()
{
    int *A=calloc(1000000,sizeof(int));
}
</pre>
<br>

a) 각 소스코드를 실행시키면 a는 어디에 저장되어 있는가?(4점)<br><br>

  one -&gt; .data (global initialized)<br>
  two -&gt; .bss (global uninitialized)<br>
  three -&gt; stack (local)<br>
  four -&gt; heap (malloc,calloc,realloc)<br><br>

b) 각 소스코드로 부터 만들어진 ELF파일의 크기와 프로그램 실행속도를 비교하고 그 이유를 서술하시오.(크기나 속도가 비슷한 경우 ~를 써도 됨)(4점)<br><br>

  - ELF크기: one &gt; three ~ four &gt; two (이유는 one(.data)는 저 배열이 통째로 들어가고, two(.bss)는 section header는 있는데 크기를 안 먹는다고 했고, three, four는 Linker에서 Library 함수를 추가해줘서 그런듯)<br><br>

  - 실행속도: one &gt; three ~ four &gt; two or one &gt; three ~ four ~ two (이유는 아마 프로그램 크기가 크면 Loading 속도가 느려지니까 one은 그럴거 같고, three, four, two는 뭐 때문이었는지 기억이 안난다(ㅈㅅ).) <br><br>

(저 1000000이라는 숫자는 변수를 넣어놓고 #define을 썼던거 같다.)<br><br>


6. Virtual Memory Management + Exceptional Control Flow (20점)<br><br>

CPU가 page 참조를 위해 MMU에게 요청을 했더니 알고보니 그 page는 physical memory에 없고 하드디스크 내에 있었다(Page Fault). 이때, 일어나는 모든 일을 최대한 자세하게 적으시오(Page fault가 일어나는 과정부터 Page fault Handling이 끝날 때까지 모든 과정을 전부 적으면 됨).<br><br>

  - 답은 너무 길어서 생략. 이번 필기 시험중에서 가장 답이 길었다. 한 페이지 통째로 답을 쓴거 같음.<br><br>

7. Dynamic Memory Allocation(10점)<br><br>

a) Memory Allocator의 Free List 구현 방식중 Implicit Free List와 Explicit Free List의 차이점을 설명하시오.(2점)<br><br>

  - Implicit Free List는 Block size만을 가지고 List를 형성하므로 모든 Block이 List에 포함되지만, Explicit은 Free block 내부의 payload중 일부를 다음 free block과 이전 free block의 주소를 담는데 사용하므로, 실제 free인 block만으로 List가 만들어진다.<br><br>

b) Implicit Free List와 Explicit Free List의 장단점을 비교하시오.(4점)<br><br>

  - 장점: Implicit Free List는 구현이 단순하고, Explicit Free List는 성능(처리속도)가 빠르다.<br><br>

  - 단점: Implicit Free List는 성능이 느리고, Explicit Free List는 구현이 복잡함(이게 맞을려나?)<br><br>

c) Garbage Collector 중 Mark and Sweep 방식을 설명하시오.(4점)<br><br>

  - Mark: 주어진 root block에서 접근이 가능한 모든 block에 mark-bit을 set한다.<br><br>

  - Sweep: List 전체를 훑으면서 mark-bit이 set되지 않은 block은 모두 free 시킨다.<br><br><br>


실기 (90 min, 100점 만점)<br><br>

1. Stack Buffer Overflow(buflab 문제)<br><br>

한 프로그램과 그것의 소스코드가 주어졌다. 이 프로그램은 문자열 입력을 받아서 그 문자열이 secret password와 일치하면 good_password(정확히 기억이 안남)이라는 함수를 부르고, 그렇지 않으면 bad_password를 불렀던 것 같다.<br><br>

a) 이 프로그램은 문자열을 받을 때 취약점이 있다. 이를 잘 이용해서 적절한 문자열을 입력하여 Buffer Overflow를 일으켜 password가 일치하지 않아도 good_password에 접근하게 만들어라.(25점)<br><br>

b) a)에서 사용한 문자열은 good_password에 접근한 뒤 Segmentation Fault를 일으킨다. 이번에는 Segmentation Fault 없이 정상적으로 종료하도록 문자열을 입력하라.(15점)<br><br>

c) secret password는 무엇인가?(10점)<br><br>

2. Library Interpositioning(Linklab 문제)<br><br>

한국식 로또(6/45) 프로그램의 소스코드와 학생들이 Library Interpositioning에 사용할 빈 소스코드가 주어졌다. 또한, 환경변수를 읽어오는 함수도 힌트로 같이 주어져서 그대로 활용할 수 있었다<br><br>

a) Library Interpositioning을 사용하여 원래 랜덤한 결과가 나와야 하는 로또 결과를 자신이 정해준 숫자만 나오게 만들으시오(20점)<br><br>

b) 환경변수를 설정해 둔 경우에만 그 값을 씨드로 하는 srand, 그렇지 않은 경우엔 유저가 넘긴 시드 값으로 srand 함수를 구현하는 문제(20점)<br><br>

c) printf 함수를 가로채서 대문자는 소문자로, 소문자는 대문자로 바꾸는 함수를 만들라는 문제(10점)<br><br>

p.s. 이 과목은 기출이 있어도 노답인듯(특히 실기... 1-A 10분 내외로 풀고 1-B에서 80분 다씀;;;). 그리고 더 늦으면 기억이 진짜 안 날 것 같아서 빨리 기억나는 대로 적었다. (2016-11-08 작성)<br><br>

p.p.s. 시험 성적 분포가 아직도 나오지 않았다.(10/27에 봤음)(나오면 올리겠습니다). 또, 시험 보신 분들은 아시겠지만, 이 과목은 두 그룹으로 나눠서 시험치는데 한 그룹은 필기 먼저보고, 실기를 나중에 보고, 다른 그룹은 그 반대로 한다. 또, 두 그룹은 시험중에는 만날 수 없음.<br><br>

소감: I am Eggered!</div></div></div></div><div class="recommend-container"><button class="recommend-button"><!-- react-text: 48 -->추천<!-- /react-text --><span class="recommend-count">0</span></button></div><div class="tag-container"><ul class="tag-list"><li class="tag-item"><a class="tag-item-name" href="https://www.snucse.org/tags?tag=%EC%8B%9C%EC%8A%A4%ED%85%9C%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D"><span title="tagged by 정모두하리">시스템프로그래밍</span></a><button class="tag-item-delete-button">×</button></li></ul><section class="tag-form-container"><button class="show-tag-form-button">태그추가</button></section></div><div class="comment-container"><div class="comment-prefix"></div><div class="comment-main-container"><div class="comment-list-container"><div class="comment-list-controller"><button class="comment-show-more-button"><!-- react-text: 63 -->7<!-- /react-text --><!-- react-text: 64 -->개 더 보기<!-- /react-text --></button></div><ul class="comment-list"><li class="comment-item"><div class="comment-writer-container"><img class="comment-writer-image" src="./2016_files/default.png"></div><div class="comment-main"><small class="comment-date" title="2017년 10월 23일 오전 12시 16분"><div class="time">4년 전</div></small><h5 class="comment-writer-name"><a href="https://www.snucse.org/cy118">박찬양</a></h5><div class="comment-content">감사합니당ㅎㅎ</div><div class="recommend-container"><button class="recommend-button"><!-- react-text: 76 -->추천<!-- /react-text --><span class="recommend-count">0</span></button></div><div class="comment-controller"><button class="comment-reply-button">답글</button></div></div><div class="comment-reply"><div class="comment-list-container"><div class="comment-list-controller"></div><ul class="comment-list"></ul></div></div></li></ul></div><form class="comment-form"><div class="comment-input-container"><input class="comment-input"></div><button class="comment-submit-button">확인</button></form></div></div></div></section></div></div></div></div></div>
    <script src="./2016_files/application.js"></script>
  

</body></html>